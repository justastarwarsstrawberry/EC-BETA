
[core]
name: Bobuilder
displayText: Bob
displayDescription: Builder Drone for GCF,  they are somewhat intelligent and are extremely friendly. \n -Basic Builder \n -will be your friend \n -Unarmed
class: CustomUnitMetadata
price: 400
maxHp: 300
mass: 1000

techLevel: 1

buildSpeed: 5s
availableInDemo: false

radius: 5
displayRadius: 6

fogOfWarSightRange: 14

isBio: false
autoRepair: true
canRepairBuildings: true
canRepairUnits : true
isBuilder: true 

nanoRange: 80
nanoBuildSpeed: 1
nanoRepairSpeed: 0.5
nanoRangeForRepair: 80
nanoRangeForReclaim: 80

tags: bob

[hiddenAction_reactions]
autoTrigger: if self.customTimer(laterThanSeconds=9)
resetCustomTimer: true
spawnEffects: CUSTOM:heart

[hiddenAction_reactions2]
autoTrigger: if not self.hasTakenDamage(laterThanSeconds=1)
resetCustomTimer: true
spawnEffects: CUSTOM:sad

[action_1]
isVisible: if not self.hasFlag(id=1) 
text: Buildings
buildSpeed: 0s
addResources: setFlag=1, unsetFlag=2, unsetFlag=3
iconImage: house.png
alwaysSinglePress: true
displayType: action
pos: 0

[action_2]
isVisible: if not self.hasFlag(id=2) 
text: Ships
buildSpeed: 0s
addResources: setFlag=2, unsetFlag=1, unsetFlag=3
iconImage: ship.png
alwaysSinglePress: true
displayType: action
pos: 0

[action_3]
isVisible: if not self.hasFlag(id=3) 
text: Tech
buildSpeed: 0s
addResources: setFlag=3, unsetFlag=1, unsetFlag=2
iconImage: bottle.png
alwaysSinglePress: true
displayType: action
pos: 0

[canBuild_1]
isVisible: if self.hasFlag(id=1) or self.isControlledByAI
name: reclaim, gcfExtractor, fab_o, weaponPlatform, gcf_barrack, gcf_factory, gcf_airbase

[canBuild_2]
#ships
isLocked: if not self.globalTeamTags(includes="navalDoct")
isLockedMessage: research needed
isVisible: if self.hasFlag(id=2) or self.isControlledByAI
name: Bijou, resilient, respire, resurgence
forceNano: true

[canBuild_3]
#CapShips
isLocked: if not self.globalTeamTags(includes="capital")
isLockedMessage: research needed
isVisible: if self.hasFlag(id=2) or self.isControlledByAI
name: fortress
forceNano: true

[action_navalDoct]
isVisible: if self.hasFlag(id=3) and not self.globalTeamTags(includes="navalDoct") 
price: 1500
text: Naval Doctrine
description: allows the contruction of seagoing vessels
displayType: upgrade
buildSpeed: 120s
addGlobalTeamTags: navalDoct
allowMultipleInQueue: false
whenBuilding_triggerAction: speedoof
resetUnitStats: true
canPlayerCancel: false

[action_capital]
@copyFromSection: action_navalDoct
isVisible: if self.hasFlag(id=3) and not self.globalTeamTags(includes="capital") 
price: 10000
text: Ship Authorization  
description: allows the contruction of ships
buildSpeed: 240s
addGlobalTeamTags: capital

[hiddenAction_speedoof]
setUnitStats:moveSpeed=0.1

[graphics]

total_frames: 1
image:        builder.png
image_wreak:  Builder_dead.png
image_turret: NONE
imageScale: 0.6

repairEffect:CUSTOM:R
#repairEffectAtTarget:
repairEffectRate: 4
reclaimEffect:CUSTOM:R
#reclaimEffectAtTarget:
reclaimEffectRate: 8

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

lock_body_rotation_with_main_turret: true

[attack]

canAttack:true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false
isMelee: true
meleeEngangementDistance: 30

isFixedFiring: true

turretSize: 3
turretTurnSpeed: 3


maxAttackRange: 9
shootDelay: 50


turretRotateWithBody: false


[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: true

turnSpeedAcceleration: 0.08

idleSweepAngle: 10
idleSweepAddRandomAngle: 120
idleSweepSpeed: 5
idleSweepDelay: 10
idleSweepCondition: if self.numberOfUnitsInTeam(greaterThan=3, withTag="bob", withinRange=60) and not self.isMoving()
 
 
[projectile_2]
life: 11
instant: true
areaDamage: 0
areaRadius: 55
targetGround: true
explodeEffect: NONE
friendlyFire: true

pushForce: 15
pushVelocity: 5

[movement]
movementType: LAND
moveSpeed: 1.2
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.03

maxTurnSpeed: 3.7
turnAcceleration: 0.2

moveSlidingMode :true
moveIgnoringBody:false
moveSlidingDir:  181

[effect_heart]
life: 50
image: love.png
alwayStartDirAtZero: true
yOffsetRelative: 15
alpha: 0.8
priority: veryhigh

spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:happy

[effect_happy]
life: 70
image: happy.png
alwayStartDirAtZero: true
yOffsetAbsolute: -15
alpha: 1
priority: veryhigh

spawnChance: 0.3
ifSpawnFailsEmitEffects: CUSTOM:owo

[effect_owo]
life: 70
image: owo.png
alwayStartDirAtZero: true
yOffsetAbsolute: -15
alpha: 1
priority: veryhigh

spawnChance: 0.3

[effect_sad]
life: 90
image: sad.png
alwayStartDirAtZero: true
yOffsetAbsolute: -15
alpha: 1
priority: veryhigh

[effect_R]
life:30
image: fx.png
attachedToUnit:false
ySpeedRelative: 0.5
xSpeedRelativeRandom: 0.3
yOffsetRelative: 2.5
#xOffsetRelative:
scaleFrom: 0.5
scaleTo: 0.1
priority: low
physics: false

[ai]
useAsBuilder: true
#god fukin damit
#notPassivelyTargetedByOtherUnits: true