[core]
name: HunterSubSonar
displayText: Hunter-class Submarine
displayDescription: The Hunter-class is an advanced submarine capable of basic stealth and equipped with a toggleable sonar device \n that will temporarily ping hostiles found on the sonar, but will make themselves noticeable to other vessels. \n - Toggleable Sonar \n - Able to see farther when above water \n - Can be rooted out by patrol vehicles \n - Invisible on Minimap
class: CustomUnitMetadata
price: 5000
maxHp: 1000
mass: 200
armour: 8
showOnMinimapToEnemies: true
energyMax: 1
energyRegen: 0.003

techLevel: 2
buildSpeed: 20.7s
availableInDemo: true
tags: sub, underwater
radius: 20
#displayRadius: 21

isBio: false
softCollisionOnAll: 3

overrideAndReplace: heavySub

[hiddenAction_AIToken]
autoTrigger: if self.isControlledByAI()
temporarilyAddTags: AIControlled

[action_AIAbilityAwareness]
isVisible: if self.tags(includes='AIControlled')
isLocked: true
text: AI Controlled
description: This unit is under AI influence, but it doesn't stop them from using their abilities. \n - Due to MJRAHOLE flexing his programming skills, units are able to use their abilities \n even if they're under AI influence, beware!
isAlsoViewableByAllies: true

[graphics]

isVisibleToEnemies: true
image:        SQ.png
image_wreak:  NONE
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

imageScale: 0.7
#scaleTurretImagesTo: 5

image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1

splastEffect: true


[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

turretTurnSpeed: 4.0



maxAttackRange: 100
shootDelay: 1.2s
turretRotateWithBody: false


[turret_1]
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true


projectile: torpedo
size: 1.1
#turnSpeed: 15

turnSpeed: 4.0

[turret_2]
x: 0
y: -8
projectile: torpedo
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

size: 1.1
#turnSpeed: 15

turnSpeed: 4.0

[action_submerge]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(greaterThan=1, withTag='sub', withinRange=200)
text: Emerge
description: Have the submarine return to the surface. \n - Able to be detected \n - Returns visibility to normal
convertTo: HunterSub

[action_activateSonar]
autoTrigger: if self.isControlledByAI() and numberOfUnitsInEnemyTeam(greaterThan=1, withTag='sub', withinRange=200)
text: Turn Off Sonar
description: Deactivate the Sonar to conceal the submarine. \n - Becomes hard to detected \n - Returns visibility to normal
convertTo: HunterSub

[projectile_torpedo]
#torpedo
directDamage: 95
life: 300
speed: 1.2
targetSpeed: 2.0
targetSpeedAcceleration: 0.05

drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true

deflectionPower: -1

wobbleAmplitude: 0.4
wobbleFrequency: 0.8s

turnSpeed:2

#startingTurnSpeed:1
#targetTurnSpeed:3

lightSize:0.2

#spawnProjectilesOnEndOfLife: torpedo_split(offsetDir=90), torpedo_split(offsetDir=-90), torpedo_split(offsetDir=00)


[movement]
movementType: WATER
moveSpeed: 0.55
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.05
targetHeight: -10
reverseSpeedPercentage:0.3

maxTurnSpeed: 2.0
turnAcceleration: 0.04

#moveSlidingMode :false
#moveIgnoringBody:false
#moveSlidingDir:  45



